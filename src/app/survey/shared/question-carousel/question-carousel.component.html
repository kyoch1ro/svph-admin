<div class="row">
  <div class="col-9">
    <h4 class="reset">Question</h4>
    <div class="text-muted">Item {{activeIndx + 1}} of {{questions.length}}</div>
    <survey-question-form
      [formValue]="activeQuestion"
      (formSubmit)="saveQuestion($event)"></survey-question-form>
      <hr>

      <div *ngIf="hasOptions">
        <h4>Options</h4>
        <option-form *ngFor="let opt of activeQuestion.options"
                      [formValue]="opt"
                      (formSubmit)="saveOption($event)"></option-form>
        <button class="btn btn-outline-success btn-block c-pointer"
          (click)="addOption(content)">
          <i class="icon-plus"></i>
          Add Option
        </button>
      </div>
  </div>
  <div class="col-3">
      <ul class="list-group">
        <li *ngFor="let ques of questions; let i = index"
            [ngClass]="{'active' : i == activeIndx }"
            (click)="updateActiveIndex(i)"
            class="list-group-item c-pointer">{{ques.question_caption}}</li>
        <li class="list-group-item c-pointer add-item"
            (click)="addParentQuestion(content)">
            <i class="icon-plus"></i>&nbsp;Add Question
        </li>
      </ul>
  </div>
</div>

<ng-template #content let-c="close" let-d="dismiss">
  <div class="modal-header">
    <h4 class="modal-title">
      <span *ngIf="modalForm === 0">
        Add&nbsp;<span *ngIf="formTemplate.question_parent">Sub&nbsp;</span>Question
      </span>
      <span *ngIf="modalForm === 1">
          Add Option
      </span>
    </h4>
    <button type="button" class="close" aria-label="Close" (click)="d('Cross click')">
      <span aria-hidden="true">&times;</span>
    </button>
  </div>
  <div class="modal-body">
      <survey-question-form
        *ngIf="modalForm === 0"
        [formValue]="formTemplate"
        (formSubmit)="saveQuestion($event)"></survey-question-form>

      <option-form
        *ngIf="modalForm === 1"
        [formValue]="formTemplate"
        (formSubmit)="saveOption($event)"></option-form>
  </div>
</ng-template>
